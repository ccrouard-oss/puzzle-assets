function shufflePieces(){
  // Grille de mélange centrée (m x n) pour 50 pièces
  const N = entries.length;
  const cols = Math.ceil(Math.sqrt(N));
  const rows = Math.ceil(N / cols);

  // Taille d’une case de mélange (légèrement > cellule du puzzle)
  const sx = CELL_W * 1.15;
  const sy = CELL_H * 1.15;

  // Centre de la grille au (0,0)
  const startX = -((cols - 1) * sx) / 2;
  const startY =  ((rows - 1) * sy) / 2;

  let i = 0;
  for (const e of entries){
    const r = Math.floor(i / cols);
    const c = i % cols;

    // Jitter doux pour éviter un aspect trop "en ligne"
    const jx = (Math.random() - 0.5) * CELL_W * 0.2;
    const jy = (Math.random() - 0.5) * CELL_H * 0.2;

    e.group.position.set(startX + c * sx + jx, startY - r * sy + jy, 0);
    e.placed = false; e.stickyTo = null;
    i++;
  }
  forcePlanarZ(puzzleRoot, 0);
}
